<script type="text/x-template" id="audio-settings">
    <template>
        <div class="modal-fullscreen addtoplaylist-panel" @click.self="app.resetState()" @contextmenu.self="app.resetState()">
            <div class="modal-window">
                <div class="modal-header">
                    <div class="modal-title">{{app.getLz('term.audioSettings')}}</div>
                    <button class="close-btn" @click="app.resetState()"></button>
                </div>
                <div class="modal-content">
                    <button class="playlist-item"
                            @click="openEqualizer()" style="width:100%;">
                        <div class="icon"><%- include("../svg/speaker.svg") %></div>
                        <div class="name">{{app.getLz('term.equalizer')}}</div>
                    </button>
                    <button class="playlist-item"
                            @click="openSpatialAudio()" style="width:100%;">
                        <div class="icon"><%- include("../svg/speaker.svg") %></div>
                        <div class="name">{{app.getLz('settings.option.audio.enableAdvancedFunctionality.audioSpatialization')}}</div>
                    </button>
                    <button class="playlist-item"
                            @click="openAudioControls" style="width:100%;">
                        <div class="icon"><%- include("../svg/speaker.svg") %></div>
                        <div class="name">{{app.getLz('term.audioControls')}}</div>
                    </button>
                    <button class="playlist-item"
                            @click="openCiderAudioLab" style="width:100%;">
                        <div class="icon"><%- include("../svg/speaker.svg") %></div>
                        <div class="name">Cider Audio Lab</div>
                    </button>
                </div>
            </div>
        </div>
    </template>
</script>

<script>
    Vue.component('audio-settings', {
        template: '#audio-settings',
        data: function () {
            return {
                app: this.$root,
            }
        },
        props: {},
        mounted() {},
        methods: {
            openEqualizer() {
                app.modals.equalizer = true
                app.modals.audioSettings = false
            },
            openSpatialAudio() {
                if(app.cfg.audio.spatial === true && app.cfg.audio.maikiwiAudio.spatial === false) {
                    app.modals.spatialProperties = true
                    app.modals.audioSettings = false
                } else {
                    notyf.error(app.getLz('spatial.notTurnedOn'))
                }
            },
            openAudioControls() {
	            app.modals.audioControls = true
	            app.modals.audioSettings = false
            },
            openCiderAudioLab() { 
                if (app.cfg.advanced.AudioContext === true) {
                    $root.appRoute('audiolabs')
                } else { 
                    notyf.error("Cider Audio Lab requires 'Advanced Functionality' to be enabled.")
                }
             }
            },
        }
    );
</script>